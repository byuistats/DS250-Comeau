<!doctype html><html lang=en-us><head><meta charset=utf-8><title>SQL for Data Science</title><meta name=generator content="Hugo 0.74.3"><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1"><link rel=stylesheet href=https://byuistats.github.io/DS250-Course/plugins/bootstrap/bootstrap.min.css><link rel=stylesheet href=https://byuistats.github.io/DS250-Course/plugins/themify-icons/themify-icons.css><link rel=stylesheet href=https://byuistats.github.io/DS250-Course/plugins/highlight/hybrid.css><link rel=icon href=https://byuistats.github.io/DS250-Course/images/favicon.png type=image/x-icon><link href="https://fonts.googleapis.com/css?family=Roboto:300,400,700&display=swap" rel=stylesheet><style>:root{--primary-color:#02007e;--body-color:#f9f9f9;--text-color:#636363;--text-color-dark:#242738;--white-color:#ffffff;--light-color:#f8f9fa;--font-family:Roboto}</style><link href=https://byuistats.github.io/DS250-Course/css/style.min.css rel=stylesheet media=screen><script src=https://byuistats.github.io/DS250-Course/plugins/jquery/jquery-1.12.4.js></script><script src=https://byuistats.github.io/DS250-Course/plugins/jquery/jquery-ui.js></script><script src=https://byuistats.github.io/DS250-Course/plugins/bootstrap/bootstrap.min.js></script><script src=https://byuistats.github.io/DS250-Course/plugins/match-height/jquery.matchHeight-min.js></script><script src=https://byuistats.github.io/DS250-Course/plugins/highlight/highlight.pack.js></script><script>hljs.initHighlightingOnLoad();</script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-132356198-4','auto');ga('send','pageview');}</script></head><body><header class="shadow-bottom sticky-top bg-white"><nav class="navbar navbar-expand-md navbar-light"><div class=container><a class="navbar-brand px-2" href=/DS250-Course>DS250</a>
<button class="navbar-toggler border-0" type=button data-toggle=collapse data-target=#navigation aria-controls=navigation aria-expanded=false aria-label="Toggle navigation">
<span class=navbar-toggler-icon></span></button><div class="collapse navbar-collapse text-center" id=navigation><ul class="navbar-nav ml-auto"><li class=nav-item><a class="nav-link text-dark" href=/DS250-Course>Home</a></li><li class=nav-item><a class="nav-link text-dark" href=/DS250-Course/projects>Projects</a></li><li class=nav-item><a class="nav-link text-dark" href=/DS250-Course/contact>Contact</a></li><li class=nav-item><a class="nav-link text-dark" href=/DS250-Course/course-materials>Materials</a></li><li class="nav-item dropdown"><a class="nav-link dropdown-toggle text-dark" href=# role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false>Navigate</a><div class=dropdown-menu><a class=dropdown-item href=/DS250-Course/slides>Slides</a>
<a class=dropdown-item href=/DS250-Course/course-materials/syllabus/>Syllabus</a>
<a class=dropdown-item href=/DS250-Course/faq>FAQ</a></div></li></ul></div></div></nav></header><section class="single section-sm pb-0"><div class=container><div class=row><div class=col-lg-3><div class=sidebar><ul class=list-styled><a class=back-btn href=/DS250-Course></a><li data-nav-id=https://byuistats.github.io/DS250-Course/course-materials/ title="Course Materials" class=sidelist><a href=https://byuistats.github.io/DS250-Course/course-materials/>Course Materials</a><ul><li data-nav-id=https://byuistats.github.io/DS250-Course/course-materials/syllabus/ title="DS 250 Syllabus" class=sidelist><a href=https://byuistats.github.io/DS250-Course/course-materials/syllabus/>DS 250 Syllabus</a><ul><li data-nav-id=https://byuistats.github.io/DS250-Course/course-materials/syllabus/competency/ title="DS 250 Competency" class=sidelist><a href=https://byuistats.github.io/DS250-Course/course-materials/syllabus/competency/>DS 250 Competency</a></li></ul></li><li data-nav-id=https://byuistats.github.io/DS250-Course/course-materials/python-for-data-science/ title="Python for Data Science" class=sidelist><a href=https://byuistats.github.io/DS250-Course/course-materials/python-for-data-science/>Python for Data Science</a></li><li data-nav-id=https://byuistats.github.io/DS250-Course/course-materials/machine-learning/ title="Machine Learning" class=sidelist><a href=https://byuistats.github.io/DS250-Course/course-materials/machine-learning/>Machine Learning</a></li><li data-nav-id=https://byuistats.github.io/DS250-Course/course-materials/sql-for-data-science/ title="SQL for Data Science" class="sidelist
active"><a href=https://byuistats.github.io/DS250-Course/course-materials/sql-for-data-science/>SQL for Data Science</a></li><li data-nav-id=https://byuistats.github.io/DS250-Course/course-materials/vs-code/ title="VS Code for Data Science" class=sidelist><a href=https://byuistats.github.io/DS250-Course/course-materials/vs-code/>VS Code for Data Science</a></li><li data-nav-id=https://byuistats.github.io/DS250-Course/course-materials/altair/ title="Altair for Charts" class=sidelist><a href=https://byuistats.github.io/DS250-Course/course-materials/altair/>Altair for Charts</a></li><li data-nav-id=https://byuistats.github.io/DS250-Course/course-materials/quarto-for-data-science/ title="Quarto for Data Science" class=sidelist><a href=https://byuistats.github.io/DS250-Course/course-materials/quarto-for-data-science/>Quarto for Data Science</a></li><li data-nav-id=https://byuistats.github.io/DS250-Course/course-materials/git_github_ds/ title="Git and GitHub for DS" class=sidelist><a href=https://byuistats.github.io/DS250-Course/course-materials/git_github_ds/>Git and GitHub for DS</a><ul><li data-nav-id=https://byuistats.github.io/DS250-Course/course-materials/git_github_ds/pull_merge/ title="Pull and Merge Forks on GitHub" class=sidelist><a href=https://byuistats.github.io/DS250-Course/course-materials/git_github_ds/pull_merge/>Pull and Merge Forks on GitHub</a></li></ul></li></ul></li></ul></div></div><div class=col-lg-9><div class="p-lg-5 p-4 bg-white"><h2 class=mb-5>SQL for Data Science</h2><div class=content><p>There are many <a href=https://en.wikipedia.org/wiki/Database#Database_management_system>flavors of SQL</a> but most flavors have the same base commands. SQL queries are typed in the following pattern;</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-SQL data-lang=SQL><span style=color:#66d9ef>SELECT</span> <span style=color:#75715e>-- &lt;columns&gt; and &lt;column calculations&gt;
</span><span style=color:#75715e></span><span style=color:#66d9ef>FROM</span> <span style=color:#75715e>-- &lt;table name&gt;
</span><span style=color:#75715e></span>  <span style=color:#66d9ef>JOIN</span> <span style=color:#75715e>-- &lt;table name&gt;
</span><span style=color:#75715e></span>  <span style=color:#66d9ef>ON</span> <span style=color:#75715e>-- &lt;columns to join&gt;
</span><span style=color:#75715e></span><span style=color:#66d9ef>WHERE</span> <span style=color:#75715e>-- &lt;filter condition on rows&gt;
</span><span style=color:#75715e></span><span style=color:#66d9ef>GROUP</span> <span style=color:#66d9ef>BY</span> <span style=color:#75715e>-- &lt;subsets for column calculations&gt;
</span><span style=color:#75715e></span><span style=color:#66d9ef>HAVING</span> <span style=color:#75715e>-- &lt;filter conditions on groups&gt;
</span><span style=color:#75715e></span><span style=color:#66d9ef>ORDER</span> <span style=color:#66d9ef>BY</span> <span style=color:#75715e>-- &lt;how the output is returned in sequence&gt;
</span><span style=color:#75715e></span><span style=color:#66d9ef>LIMIT</span> <span style=color:#75715e>-- &lt;number of rows to return&gt;
</span></code></pre></div><h2 id=introductory-sql-links>Introductory SQL links</h2><ul><li><a href=https://docs.data.world/documentation/sql/concepts/basic/intro.html>SQL Guide</a></li><li><a href=https://docs.data.world/documentation/sql/concepts/basic/SELECT_and_FROM.html>SELECT and FROM clauses</a></li><li><a href=https://docs.data.world/documentation/sql/concepts/basic/WHERE.html>WHERE and comparison operators</a></li><li><a href=https://docs.data.world/documentation/sql/concepts/basic/ORDER_BY.html>ORDER BY</a></li><li><a href=https://docs.data.world/documentation/sql/concepts/intermediate/Joins.html>Joins</a></li><li><a href=https://docs.data.world/documentation/sql/concepts/intermediate/aggregations.html>Aggregations</a></li><li><a href=https://docs.data.world/documentation/sql/concepts/intermediate/GROUP_BY.html>GROUP BY</a></li></ul><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#f92672>import</span> pandas <span style=color:#f92672>as</span> pd 
<span style=color:#f92672>import</span> altair <span style=color:#f92672>as</span> alt
<span style=color:#f92672>import</span> numpy <span style=color:#f92672>as</span> np
<span style=color:#f92672>import</span> sqlite3

<span style=color:#75715e># %%</span>
<span style=color:#75715e># careful to list your path to the file.</span>
sqlite_file <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;lahmansbaseballdb.sqlite&#39;</span>
con <span style=color:#f92672>=</span> sqlite3<span style=color:#f92672>.</span>connect(sqlite_file)

results <span style=color:#f92672>=</span> pd<span style=color:#f92672>.</span>read_sql_query( 
    <span style=color:#e6db74>&#39;SELECT * FROM allstarfull LIMIT 5&#39;</span>,
    con)

results
</code></pre></div><p>You can see the list of tables available in the database;</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python>table <span style=color:#f92672>=</span> pd<span style=color:#f92672>.</span>read_sql_query(
    <span style=color:#e6db74>&#34;SELECT * FROM sqlite_master WHERE type=&#39;table&#39;&#34;</span>,
    con)
<span style=color:#66d9ef>print</span>(table<span style=color:#f92672>.</span>filter([<span style=color:#e6db74>&#39;name&#39;</span>]))
<span style=color:#66d9ef>print</span>(<span style=color:#e6db74>&#39;</span><span style=color:#ae81ff>\n\n</span><span style=color:#e6db74>&#39;</span>)
<span style=color:#75715e># 8 is collegeplaying</span>
<span style=color:#66d9ef>print</span>(table<span style=color:#f92672>.</span>sql[<span style=color:#ae81ff>8</span>])
</code></pre></div></div><p class="post-meta border-bottom pb-3 mb-0 mt-3">Updated on 15 Sep 2020</p><nav class="pagination mt-3"><a class="nav nav-prev" href=https://byuistats.github.io/DS250-Course/course-materials/machine-learning/><i class="ti-arrow-left mr-2"></i><span class="d-none d-md-block">Machine Learning</span></a>
<a class="nav nav-next" href=https://byuistats.github.io/DS250-Course/course-materials/vs-code/><span class="d-none d-md-block">VS Code for Data Science</span><i class="ti-arrow-right ml-2"></i></a></nav></div></div></div></div></section><footer class="section pb-4"><div class=container><div class="row align-items-center"><div class="col-md-8 text-md-left text-center"><p class="mb-md-0 mb-4">J. Hathaway and BYU-I Â©</p></div><div class="col-md-4 text-md-right text-center"><ul class=list-inline><li class=list-inline-item><a class="text-color d-inline-block p-2" href=https://github.com/byuidatascience><i class=ti-github></i></a></li><li class=list-inline-item><a class="text-color d-inline-block p-2" href=https://www.linkedin.com/groups/13537407/><i class=ti-linkedin></i></a></li></ul></div></div></div></footer><script src=https://byuistats.github.io/DS250-Course/js/script.min.js></script></body></html>